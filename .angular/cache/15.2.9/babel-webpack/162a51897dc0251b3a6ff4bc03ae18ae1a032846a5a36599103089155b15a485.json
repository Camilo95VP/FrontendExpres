{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"src/app/services/producto.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../navBar/navBar.component\";\nfunction CrearProductoComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"span\");\n    i0.ɵɵtext(2, \"El nombre \");\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4, \"es obligatorio\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CrearProductoComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"span\");\n    i0.ɵɵtext(2, \"El correo \");\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4, \"es obligatorio\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CrearProductoComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"span\");\n    i0.ɵɵtext(2, \"La propiedad \");\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4, \"es obligatoria\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction CrearProductoComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"span\");\n    i0.ɵɵtext(2, \"El Telefono \");\n    i0.ɵɵelementStart(3, \"strong\");\n    i0.ɵɵtext(4, \"es obligatorio\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport let CrearProductoComponent = /*#__PURE__*/(() => {\n  class CrearProductoComponent {\n    constructor(fb, router, toastr, _productoService, aRouter) {\n      this.fb = fb;\n      this.router = router;\n      this.toastr = toastr;\n      this._productoService = _productoService;\n      this.aRouter = aRouter;\n      this.titulo = 'Registrar cliente';\n      this.id = null;\n      this.productoForm = this.fb.group({\n        producto: ['', Validators.required],\n        categoria: ['', Validators.required],\n        ubicacion: ['', Validators.required],\n        precio: ['', Validators.required]\n      });\n    }\n    ngOnInit() {\n      this.id = this.aRouter.snapshot.paramMap.get('id');\n      this.esEditar();\n    }\n    agregarProducto() {\n      var _a, _b, _c, _d;\n      const PRODUCTO = {\n        _id: this.id,\n        nombre: (_a = this.productoForm.get('producto')) === null || _a === void 0 ? void 0 : _a.value,\n        categoria: (_b = this.productoForm.get('categoria')) === null || _b === void 0 ? void 0 : _b.value,\n        ubicacion: (_c = this.productoForm.get('ubicacion')) === null || _c === void 0 ? void 0 : _c.value,\n        precio: (_d = this.productoForm.get('precio')) === null || _d === void 0 ? void 0 : _d.value\n      };\n      if (this.id) {\n        // Si hay un identificador (id) significa que estamos actualizando un producto existente.\n        this._productoService.actualizarProducto(PRODUCTO).subscribe(data => {\n          this.toastr.success('Cliente actualizado con éxito!', 'Cliente Actualizado');\n          this.router.navigate(['/listar-producto']);\n        }, error => {\n          console.log(error);\n          this.productoForm.reset();\n        });\n      } else {\n        // Si no hay un identificador, estamos creando un nuevo producto.\n        this._productoService.guardarProducto(PRODUCTO).subscribe(data => {\n          this.toastr.success('Cliente registrado con éxito!', 'Cliente Registrado');\n          this.router.navigate(['/listar-producto']);\n        }, error => {\n          console.log(error);\n          this.productoForm.reset();\n        });\n      }\n    }\n    esEditar() {\n      if (this.id !== null) {\n        this.titulo = 'Editar cliente';\n        this._productoService.obtenerProducto(this.id).subscribe(data => {\n          this.productoForm.setValue({\n            producto: data.nombre,\n            categoria: data.categoria,\n            ubicacion: data.ubicacion,\n            precio: data.precio\n          });\n        });\n      }\n    }\n  }\n  CrearProductoComponent.ɵfac = function CrearProductoComponent_Factory(t) {\n    return new (t || CrearProductoComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.ProductoService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  CrearProductoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CrearProductoComponent,\n    selectors: [[\"app-crear-producto\"]],\n    decls: 27,\n    vars: 9,\n    consts: [[1, \"container\", \"mt-5\"], [1, \"row\"], [1, \"col-lg-6\", \"offset-lg-3\"], [1, \"card\"], [1, \"card-body\", \"text-center\"], [1, \"titulo\"], [1, \"mt-3\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"type\", \"text\", \"formControlName\", \"producto\", \"placeholder\", \"Nombre\", 1, \"form-control\", \"form-control-lg\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"categoria\", \"required\", \"\", \"placeholder\", \"Correo\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"text\", \"formControlName\", \"ubicacion\", \"placeholder\", \"Tipo de propiedad\", 1, \"form-control\", \"form-control-lg\"], [\"type\", \"number\", \"formControlName\", \"precio\", \"placeholder\", \"Telefono\", 1, \"form-control\", \"form-control-lg\"], [\"routerLink\", \"/listar-producto\", 1, \"btn\", \"btn-secondary\", \"btn-lg\", \"float-start\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"btn-lg\", \"float-end\", 3, \"disabled\"], [1, \"text-danger\"]],\n    template: function CrearProductoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navBar\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"span\", 5);\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"uppercase\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"form\", 6);\n        i0.ɵɵlistener(\"ngSubmit\", function CrearProductoComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.agregarProducto();\n        });\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelement(11, \"input\", 8);\n        i0.ɵɵtemplate(12, CrearProductoComponent_div_12_Template, 5, 0, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 7);\n        i0.ɵɵelement(14, \"input\", 10);\n        i0.ɵɵtemplate(15, CrearProductoComponent_div_15_Template, 5, 0, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 7);\n        i0.ɵɵelement(17, \"input\", 11);\n        i0.ɵɵtemplate(18, CrearProductoComponent_div_18_Template, 5, 0, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 7);\n        i0.ɵɵelement(20, \"input\", 12);\n        i0.ɵɵtemplate(21, CrearProductoComponent_div_21_Template, 5, 0, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 7)(23, \"button\", 13);\n        i0.ɵɵtext(24, \"VOLVER\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"button\", 14);\n        i0.ɵɵtext(26, \"ACEPTAR\");\n        i0.ɵɵelementEnd()()()()()()()();\n      }\n      if (rf & 2) {\n        let tmp_2_0;\n        let tmp_3_0;\n        let tmp_4_0;\n        let tmp_5_0;\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 7, ctx.titulo), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.productoForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.productoForm.get(\"producto\")) == null ? null : tmp_2_0.hasError(\"required\")) && ((tmp_2_0 = ctx.productoForm.get(\"producto\")) == null ? null : tmp_2_0.touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.productoForm.get(\"categoria\")) == null ? null : tmp_3_0.hasError(\"required\")) && ((tmp_3_0 = ctx.productoForm.get(\"categoria\")) == null ? null : tmp_3_0.touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.productoForm.get(\"ubicacion\")) == null ? null : tmp_4_0.hasError(\"required\")) && ((tmp_4_0 = ctx.productoForm.get(\"ubicacion\")) == null ? null : tmp_4_0.touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.productoForm.get(\"precio\")) == null ? null : tmp_5_0.hasError(\"required\")) && ((tmp_5_0 = ctx.productoForm.get(\"precio\")) == null ? null : tmp_5_0.touched));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.productoForm.invalid);\n      }\n    },\n    dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i2.RouterLink, i1.FormGroupDirective, i1.FormControlName, i6.NavBarComponent, i5.UpperCasePipe],\n    styles: [\".text-danger[_ngcontent-%COMP%]{text-align:start;margin-left:7px}.card-body[_ngcontent-%COMP%]{background-color:#f2f2f2d7}.card[_ngcontent-%COMP%]{box-shadow:0 0 11px 3px #00000056!important;background-color:#f2f2f2e7}\"]\n  });\n  return CrearProductoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}